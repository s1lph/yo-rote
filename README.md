# yo.route - –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ üöÄ

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≥–µ–æ–∫–æ–¥–∏–Ω–≥–æ–º –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–µ.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á OpenRouteService (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

> **–í–∞–∂–Ω–æ:** –ë–µ–∑ API –∫–ª—é—á–∞ –≥–µ–æ–∫–æ–¥–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥—É—Ç!

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://openrouteservice.org/dev/#/signup
2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ —Ä–∞–∑–¥–µ–ª–µ "Tokens"
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª

```env
ORS_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å
DATABASE_URL=sqlite:///logistics.db
FLASK_ENV=development
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
python app.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000

## ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### Backend
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite** —Å –º–æ–¥–µ–ª—è–º–∏: User, Courier, Order, Route
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≥–µ–æ–∫–æ–¥–∏–Ω–≥** –∞–¥—Ä–µ—Å–æ–≤ —á–µ—Ä–µ–∑ OpenRouteService
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ (VRP)** —Å —É—á–µ—Ç–æ–º —Ç–∏–ø–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- ‚úÖ **REST API** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### Frontend
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ Leaflet.js** —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –∑–∞–∫–∞–∑–æ–≤ —Å –Ω–æ–º–µ—Ä–∞–º–∏ (–ø–æ—Ä—è–¥–æ–∫ –ø–æ—Å–µ—â–µ–Ω–∏—è)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ–ø–æ/—Å–∫–ª–∞–¥–∞
- ‚úÖ –õ–∏–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞

## üìñ –û—Å–Ω–æ–≤–Ω—ã–µ API Endpoints

### –ó–∞–∫–∞–∑—ã
- `GET /api/orders` - —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ (—Ñ–∏–ª—å—Ç—Ä—ã: date, status, search)
- `POST /api/orders` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≥–µ–æ–∫–æ–¥–∏–Ω–≥–æ–º**
- `PUT /api/orders/<id>` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- `DELETE /api/orders/<id>` - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞

### –ú–∞—Ä—à—Ä—É—Ç—ã
- `GET /api/routes` - —Å–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (—Ñ–∏–ª—å—Ç—Ä—ã: date, courier_id, status)
- **`POST /api/routes/optimize`** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ —á–µ—Ä–µ–∑ VRP –∞–ª–≥–æ—Ä–∏—Ç–º
- **`GET /api/routes/<id>/optimize-view`** - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
- `DELETE /api/routes/<id>` - —É–¥–∞–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞

### –ö—É—Ä—å–µ—Ä—ã
- `GET /api/couriers` - —Å–ø–∏—Å–æ–∫ –∫—É—Ä—å–µ—Ä–æ–≤
- `POST /api/couriers` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—å–µ—Ä–∞
- `PUT /api/couriers/<id>` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DELETE /api/couriers/<id>` - —É–¥–∞–ª–µ–Ω–∏–µ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å –≥–µ–æ–∫–æ–¥–∏–Ω–≥–æ–º

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/orders`
2. –ù–∞–∂–º–∏—Ç–µ "+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É (–∞–¥—Ä–µ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–æ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è!)
4. –°–æ–∑–¥–∞–π—Ç–µ 3-4 –∑–∞–∫–∞–∑–∞ –Ω–∞ –æ–¥–Ω—É –¥–∞—Ç—É

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/optimization`
2. –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É —Å –∑–∞–∫–∞–∑–∞–º–∏
3. –í DevTools Console (F12) –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
fetch('/api/routes/optimize', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
        date: '2025-11-28',  // –≤–∞—à–∞ –¥–∞—Ç–∞
        courier_id: 1
    })
})
.then(r => r.json())
.then(data => {
    console.log(data);
    location.reload();
});
```

4. –ö–ª–∏–∫–Ω–∏—Ç–µ "–ò–∑–º–µ–Ω–∏—Ç—å" –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–º –º–∞—Ä—à—Ä—É—Ç–µ
5. üó∫Ô∏è **–ú–∞—Ä—à—Ä—É—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Ç–æ—á–µ–∫!**

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
yorote/
‚îú‚îÄ‚îÄ app.py              # Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ + API
‚îú‚îÄ‚îÄ models.py           # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ optimizer.py        # –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (VRP)
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ instance/
‚îÇ   ‚îî‚îÄ‚îÄ logistics.db   # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îî‚îÄ‚îÄ templates/
    ‚îî‚îÄ‚îÄ optimization.html  # –ö–∞—Ä—Ç–∞ Leaflet.js
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Flask, SQLAlchemy, OpenRouteService
- **Frontend**: Leaflet.js, Vanilla JavaScript
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (–ª–µ–≥–∫–æ –º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ PostgreSQL)
- **API**: OpenRouteService (–≥–µ–æ–∫–æ–¥–∏–Ω–≥ + VRP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ [walkthrough.md](file:///C:/Users/dimak/.gemini/antigravity/brain/d78bfa4a-4161-47b1-a9bb-b1a5465a3478/walkthrough.md)

## üöß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (JWT)
- [ ] Telegram Bot –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∫—É—Ä—å–µ—Ä–æ–≤
- [ ] –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- [ ] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–µ–ø–æ
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

---

**–õ–∏—Ü–µ–Ω–∑–∏—è**: MIT  
**–ê–≤—Ç–æ—Ä**: yo.route team
